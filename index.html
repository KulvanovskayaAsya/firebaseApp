<!DOCTYPE html>
<html>
  <head>
    <title>Firebase Message</title>
  </head>
  <body>
    <h1>Тестовый сайт</h1>
    <button onclick="requestPermission()">Разрешить уведомления</button>

    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-messaging.js"></script>
    <script>
      firebase.initializeApp({
        apiKey: "AIzaSyBawUPnBPzcx4Y256Jd7EqMveSOCmhv0Yk",
        authDomain: "fir-messages-ed5a7.firebaseapp.com",
        projectId: "fir-messages-ed5a7",
        storageBucket: "fir-messages-ed5a7.appspot.com",
        messagingSenderId: "282798683267",
        appId: "1:282798683267:web:171c04bbdea4d522d417b6"
      });

      const messaging = firebase.messaging();
      messaging.getToken({ vapidKey: "BPI-NJh3bMOYyKxJXz5h4YRnWXc1hqLf64Kefh9bq-0VNduzCXGXavC0Z47qBwqlAyA5AcZcPrQ4TGY4Ea2Ser4" })
        .then((currentToken) => {
          if (currentToken) {
            console.log(currentToken);
          } else {
            console.log('No registration token available.');
          }
        })
        .catch((err) => {
          console.log('An error occurred while retrieving token. ', err);
        });
    </script>
  </body>
</html>